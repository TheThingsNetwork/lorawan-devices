"use strict";function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _callSuper(e,t,a){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,a||[],_getPrototypeOf(e).constructor):t.apply(e,a))}function _possibleConstructorReturn(e,t){if(t&&("object"==_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(a,e)},_wrapNativeSuper(e)}function _construct(e,t,a){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var n=new(e.bind.apply(e,r));return a&&_setPrototypeOf(n,a.prototype),n}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _isNativeFunction(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var driver;!function(){var e={652:function(e){var t=[];t[0]=0,t[1]=1,t[2]=4,t[3]=4,t[4]=8,t[5]=8,t[6]=16,t[7]=16,t[8]=24,t[9]=24,t[10]=32,t[11]=32,t[12]=32;var a=[[{sz:2,lbl:0},{sz:2,lbl:1},{sz:2,lbl:3},{sz:3,lbl:5},{sz:4,lbl:9},{sz:5,lbl:17},{sz:6,lbl:33},{sz:7,lbl:65},{sz:8,lbl:129},{sz:10,lbl:512},{sz:11,lbl:1026},{sz:11,lbl:1027},{sz:11,lbl:1028},{sz:11,lbl:1029},{sz:11,lbl:1030},{sz:11,lbl:1031}],[{sz:7,lbl:111},{sz:5,lbl:26},{sz:4,lbl:12},{sz:3,lbl:3},{sz:3,lbl:7},{sz:2,lbl:2},{sz:2,lbl:0},{sz:3,lbl:2},{sz:6,lbl:54},{sz:9,lbl:443},{sz:9,lbl:441},{sz:10,lbl:885},{sz:10,lbl:884},{sz:10,lbl:880},{sz:11,lbl:1763},{sz:11,lbl:1762}],[{sz:4,lbl:9},{sz:3,lbl:5},{sz:2,lbl:0},{sz:2,lbl:1},{sz:2,lbl:3},{sz:5,lbl:17},{sz:6,lbl:33},{sz:7,lbl:65},{sz:8,lbl:129},{sz:10,lbl:512},{sz:11,lbl:1026},{sz:11,lbl:1027},{sz:11,lbl:1028},{sz:11,lbl:1029},{sz:11,lbl:1030},{sz:11,lbl:1031}]];function r(e,t,a,r){return{uncompressSamples:[{data_relative_timestamp:r,data:{value:s(e,t),label:a}}],codingType:0,codingTable:0,resolution:null}}function n(e,t){for(var a=0;a<e.length;a++)if(e[a].taglbl===t.lbl)return a;throw new Error("Batch : Cannot find i1 in argList")}function i(e,t){if(t){var a=e.getNextBifromHi(1);return o(e,t,a)}return e.getNextSample(10)}function o(e,t,a){return a>14?e.getNextSample(10):a>0?function(e,t,a){return e.getNextSample(10,a)+t+Math.pow(2,a)-1}(e,t,a):t}function s(e,t){var a=e.getNextSample(t);return 12===t?function(e){var t=2147483648&e?-1:1,a=(e>>23&255)-127,r=8388607&e;if(128===a)return t*(r?Number.NaN:Number.POSITIVE_INFINITY);if(-127===a){if(0===r)return 0*t;a=-126,r/=1<<22}else r=(r|1<<23)/(1<<23);return t*r*Math.pow(2,a)}(a):a}function d(e,t,a,r,n){var i=e.getNextSample(6,n);return 0===a?function(e,t,a,r){return e>=Math.pow(2,r-1)?e*t+a:(e+1-Math.pow(2,r))*t+a}(i,r,t,n):1===a?(i+Math.pow(2,n)-1)*r+t:t-(i+(Math.pow(2,n)-1))*r}Math.trunc=Math.trunc||function(e){return isNaN(e)?NaN:e>0?Math.floor(e):Math.ceil(e)},e.exports={normalisation_batch:function(e){for(var s=e.date,c=function(e,s,c,u){var l=function(){for(var e=[],t=0;t<16;)e.push({codingType:0,codingTable:0,resolution:null,uncompressSamples:[]}),t+=1;return{batch_counter:0,batch_relative_timestamp:0,series:e}}(),p=function(e){function r(e,t,a){var r=t,n=a-1;if(8*e.length<r+a)throw new Error("Batch : Verify that dest buf is large enough");for(var i=0,o=0;a>0;)e[r>>3]&1<<(7&r)&&(o|=1<<n-i),a--,i++,r++;return o}return{i1:0,byteArray:e,getNextSample:function(e,a){var r=a||t[e],n=this.i1;if(this.i1+=r,12===e&&32!==r)throw new Error("Batch : Mauvais sampletype");var i=0,o=Math.trunc((r-1)/8)+1,s=r%8;for(0===s&&o>0&&(s=8);o>0;){for(var d=0;s>0;){var c=n>>3;this.byteArray[c]&1<<(7&n)&&(i|=1<<8*(o-1)+d),s--,d++,n+=1}o--,s=8}if((3==e||5==e||7==e||9==e)&&i&1<<r-1)for(var u=r;u<32;u++)i|=1<<u,r++;return i},getNextBifromHi:function(e){for(var t=2;t<12;t++)for(var n=r(this.byteArray,this.i1,t),i=0;i<a[e].length;i++)if(a[e][i].sz==t&&n==a[e][i].lbl)return this.i1+=t,i;throw new Error("Bi not found in HUFF table")}}}(function(e){for(var t=[];e.length>=2;)t.push(parseInt(e.substring(0,2),16)),e=e.substring(2,e.length);return t}(c)),_=function(e){for(var t=e.toString(2);t.length<8;)t="0"+t;return{isCommonTimestamp:parseInt(t[t.length-2],2),hasSample:!parseInt(t[t.length-3],2),batch_req:parseInt(t[t.length-4],2),nb_of_type_measure:parseInt(t.substring(0,4),2)}}(p.getNextSample(4));l.batch_counter=p.getNextSample(4,3),p.getNextSample(4,1);var f=function(e,t,a,o,s){for(var d=0,c=0,u=0;u<o.nb_of_type_measure;u++){var l={size:s,lbl:t.getNextSample(4,s)},p=n(a,l);0===u&&(c=p),d=i(t,d),e.series[p]=r(t,a[p].sampletype,l.lbl,d),o.hasSample&&(e.series[p].codingType=t.getNextSample(4,2),e.series[p].codingTable=t.getNextSample(4,2))}return{last_timestamp:d,i1_of_the_first_sample:c}}(l,p,s,_,e),v=f.last_timestamp,m=f.i1_of_the_first_sample;return _.hasSample&&(v=function(e,t,a,r,i,s,c){return s.isCommonTimestamp?function(e,t,a,r,i,o){for(var s=t.getNextSample(4,8),c={},u=function(e,t,a,r){for(var n=[],i=0,o=t.getNextSample(4,2),s=0;s<a;s++){var d=t.getNextBifromHi(o);if(d<=14)if(0===s)n.push(e.series[r].uncompressSamples[0].data_relative_timestamp);else{var c=n[s-1];d>0?n.push(t.getNextSample(10,d)+c+Math.pow(2,d)-1):n.push(c)}else n.push(t.getNextSample(10));i=n[s]}return{timestampCommon:n,lastTimestamp:i}}(e,t,s,a),l=u.timestampCommon,p=u.lastTimestamp,_=0;_<i.nb_of_type_measure;_++){var f=1;c.lbl=t.getNextSample(4,o);for(var v=n(r,c),m=0;m<s;m++)if(t.getNextSample(4,1)){var E=t.getNextBifromHi(e.series[v].codingTable),P={data_relative_timestamp:0,data:{}};if(E<=14){var g=e.series[v].uncompressSamples[e.series[v].uncompressSamples.length-1].data.value;if(E>0)P.data.value=d(t,g,e.series[v].codingType,r[v].resol,E);else{if(f){f=0;continue}P.data.value=g}}else P.data.value=t.getNextSample(r[v].sampletype);P.data_relative_timestamp=l[m],e.series[v].uncompressSamples.push(P)}}return p}(e,t,a,r,s,c):function(e,t,a,r,i,s){for(var c={},u=0;u<i.nb_of_type_measure;u++){c.lbl=t.getNextSample(4,s);var l=n(a,c),p=t.getNextSample(4,8);if(p)for(var _=t.getNextSample(4,2),f=0;f<p;f++){var v=e.series[l].uncompressSamples[e.series[l].uncompressSamples.length-1].data_relative_timestamp,m={data_relative_timestamp:0,data:{}},E=t.getNextBifromHi(_);if(m.data_relative_timestamp=o(t,v,E),m.data_relative_timestamp>r&&(r=m.data_relative_timestamp),(E=t.getNextBifromHi(e.series[l].codingTable))<=14){var P=e.series[l].uncompressSamples[e.series[l].uncompressSamples.length-1].data.value;m.data.value=E>0?d(t,P,e.series[l].codingType,a[l].resol,E):P}else m.data.value=t.getNextSample(a[l].sampletype);e.series[l].uncompressSamples.push(m)}}return r}(e,t,r,i,s,c)}(l,p,m,s,v,_,e)),l.batch_relative_timestamp=i(p,v),function(e,t,a){var r={batch_counter:e.batch_counter,batch_relative_timestamp:e.batch_relative_timestamp};return a&&(r.batch_absolute_timestamp=a),r.dataset=e.series.reduce((function(r,n,i){return r.concat(n.uncompressSamples.map((function(r){var n,o,s,d={data_relative_timestamp:r.data_relative_timestamp,data:{value:t[i].divide?r.data.value/t[i].divide:r.data.value,label:t[i].taglbl}};return t[i].lblname&&(d.data.label_name=t[i].lblname),a&&(d.data_absolute_timestamp=(n=a,o=e.batch_relative_timestamp,s=r.data_relative_timestamp,new Date(new Date(n).getTime()-1e3*(o-s)).toISOString())),d})))}),[]),r}(l,s,u)}(e.batch1,e.batch2,e.payload,s),u=[],l=0;l<c.dataset.length;l++){var p=c.dataset[l],_={variable:p.data.label_name,value:p.data.value,date:p.data_absolute_timestamp};u.push(_)}return u}}},839:function(e){e.exports={UintToInt:function(e,t){if(t<1||t>4)throw new Error("Unsupported Size");return 1===t&&(128&e)>0?e-=256:2===t&&(32768&e)>0?e-=65536:3===t&&(8388608&e)>0?e-=16777216:4===t&&(2147483648&e)>0&&(e-=4294967296),e},Bytes2Float32:function(e){var t=2147483648&e?-1:1,a=(e>>23&255)-127,r=8388607&e;if(128===a)return t*(r?Number.NaN:Number.POSITIVE_INFINITY);if(-127===a){if(0===r)return 0;a=-126,r/=1<<23}else r=(r|1<<23)/(1<<23);return t*r*Math.pow(2,a)},BytesToInt64:function(e,t,a,r){void 0===r&&(r=!1);var n,i,o="U"!=a.substr(0,1),s=parseInt(a.substr(1,2),10)/8,d=s;r?(n=-1,i=t+s-1):(n=1,i=t);for(var c=0,u=i;d>0;u+=n,d--)c=(c<<8)+e[u];return o&&s<8&&128&e[i]&&(c-=1<<8*s),c},decimalToHex:function(e,t){var a=e.toString(16).toUpperCase();for(t=null!=t?t:2;a.length<t;)a="0"+a;return"0x"+a},zeroPad:function(e,t){for(var a=String(e);a.length<t;)a="0"+a;return a},BytesToHexStr:function(e){for(var t="",a=0;a<e.length;a++){var r=e[a].toString(16).toUpperCase();1===r.length&&(r="0"+r),t+=r}return t}}},174:function(e,t,a){var r=a(907),n=a(652);function i(e){var t,a=null==(t=e)?{}:Array.isArray(t)?{samples:t}:"object"==_typeof(t)?t:"string"==typeof t||"number"==typeof t?{value:t}:{};if(!a.samples||!Array.isArray(a.samples))return a;var r=a.samples,n={};r.forEach((function(e){if("object"==_typeof(e)&&e.variable&&void 0!==e.value&&e.date){var t=e.variable,a=e.value,r=e.date;(!n[t]||new Date(r)>new Date(n[t].date))&&(n[t]={value:a,date:r})}}));var i={};for(var o in a)a.hasOwnProperty(o)&&(i[o]=a[o]);for(var s in n)n.hasOwnProperty(s)&&!i.hasOwnProperty(s)&&(i[s]=n[s].value);return i}e.exports={watteco_decodeUplink:function(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.bytes,e.fPort,e.recvTime||(e.recvTime=(new Date).toISOString());var s=e.recvTime;try{var d=r.normalisation_standard(e,a,o),c=d.payload;if("batch"!==d.type)return{data:i(d.data),warnings:d.warning};var u={batch1:t[0],batch2:t[1],payload:c,date:s};try{return{data:i(n.normalisation_batch(u)),warnings:[]}}catch(e){return{errors:e.message,warnings:[]}}}catch(e){return{errors:e.message,warnings:[]}}}}},907:function(e,t,a){var r=a(839),n=r.UintToInt,i=r.Bytes2Float32,o=r.BytesToInt64,s=r.decimalToHex,d=r.zeroPad,c=(r.BytesToHexStr,function(){function e(t){var a;return _classCallCheck(this,e),(a=_callSuper(this,e,[t])).name="ValidationError",a}return _inherits(e,_wrapNativeSuper(Error)),_createClass(e)}()),u={16:{name:"boolean",size:1},8:{name:"general8",size:1},9:{name:"general16",size:2},10:{name:"general24",size:3},11:{name:"general32",size:4},24:{name:"bitmap8",size:1},25:{name:"bitmap16",size:2},32:{name:"uint8",size:1},33:{name:"uint16",size:2},34:{name:"uint24",size:3},35:{name:"uint32",size:4},40:{name:"int8",size:1},41:{name:"int16",size:2},43:{name:"int32",size:4},48:{name:"enum8",size:1},66:{name:"char string",size:1},65:{name:"bytes string",size:1},67:{name:"long bytes string",size:2},76:{name:"structured ordered sequence",size:2},57:{name:"single",size:4}},l={32778:{0:{0:{divider:1,function_type:"int",name:"positive_active_energy",size:4},1:{divider:1,function_type:"int",name:"negative_active_energy",size:4},2:{divider:1,function_type:"int",name:"positive_reactive_energy",size:4},3:{divider:1,function_type:"int",name:"negative_reactive_energy",size:4},4:{divider:1,function_type:"int",name:"positive_active_power",size:4},5:{divider:1,function_type:"int",name:"negative_active_power",size:4},6:{divider:1,function_type:"int",name:"positive_reactive_power",size:4},7:{divider:1,function_type:"int",name:"negative_reactive_power",size:4}}},32784:{0:{0:{divider:1,function_type:"int",name:"active_energy_a",size:4},1:{divider:1,function_type:"int",name:"reactive_energy_a",size:4},2:{divider:1,function_type:"int",name:"active_energy_b",size:4},3:{divider:1,function_type:"int",name:"reactive_energy_b",size:4},4:{divider:1,function_type:"int",name:"active_energy_c",size:4},5:{divider:1,function_type:"int",name:"reactive_energy_c",size:4},6:{divider:1,function_type:"int",name:"active_energy_abc",size:4},7:{divider:1,function_type:"int",name:"reactive_energy_abc",size:4}},1:{0:{divider:1,function_type:"int",name:"active_power_a",size:4},1:{divider:1,function_type:"int",name:"reactive_power_a",size:4},2:{divider:1,function_type:"int",name:"active_power_b",size:4},3:{divider:1,function_type:"int",name:"reactive_power_b",size:4},4:{divider:1,function_type:"int",name:"active_power_c",size:4},5:{divider:1,function_type:"int",name:"reactive_power_c",size:4},6:{divider:1,function_type:"int",name:"active_power_abc",size:4},7:{divider:1,function_type:"int",name:"reactive_power_abc",size:4}}},32779:{0:{0:{divider:10,function_type:"int",name:"Vrms",size:2},1:{divider:10,function_type:"int",name:"Irms",size:2},2:{divider:1,function_type:"int",name:"angle",size:2}}},32781:{0:{0:{divider:10,function_type:"int",name:"Vrms_a",size:2},1:{divider:10,function_type:"int",name:"Irms_a",size:2},2:{divider:1,function_type:"int",name:"angle_a",size:2},3:{divider:10,function_type:"int",name:"Vrms_b",size:2},4:{divider:10,function_type:"int",name:"Irms_b",size:2},5:{divider:1,function_type:"int",name:"angle_b",size:2},6:{divider:10,function_type:"int",name:"Vrms_c",size:2},7:{divider:10,function_type:"int",name:"Irms_c",size:2},8:{divider:1,function_type:"int",name:"angle_c",size:2}}},32850:{0:{0:{divider:1e3,function_type:"int",name:"frequency",size:2},1:{divider:1e3,function_type:"int",name:"frequency_min",size:2},2:{divider:1e3,function_type:"int",name:"frequency_max",size:2},3:{divider:10,function_type:"int",name:"Vrms",size:2},4:{divider:10,function_type:"int",name:"Vrms_min",size:2},5:{divider:10,function_type:"int",name:"Vrms_max",size:2},6:{divider:10,function_type:"int",name:"Vpeak",size:2},7:{divider:10,function_type:"int",name:"Vpeak_min",size:2},8:{divider:10,function_type:"int",name:"Vpeak_max",size:2},9:{divider:1,function_type:"int",name:"over_voltage",size:2},10:{divider:1,function_type:"int",name:"sag_voltage",size:2}}},32773:{0:{0:{divider:1,function_type:"none",name:"pin_state_1",size:1},1:{divider:1,function_type:"none",name:"pin_state_2",size:1},2:{divider:1,function_type:"none",name:"pin_state_3",size:1},3:{divider:1,function_type:"none",name:"pin_state_4",size:1},4:{divider:1,function_type:"none",name:"pin_state_5",size:1},5:{divider:1,function_type:"none",name:"pin_state_6",size:1},6:{divider:1,function_type:"none",name:"pin_state_7",size:1},7:{divider:1,function_type:"none",name:"pin_state_8",size:1},8:{divider:1,function_type:"none",name:"pin_state_9",size:1},9:{divider:1,function_type:"none",name:"pin_state_10",size:1}}},80:{6:{0:{divider:1e3,function_type:"none",name:"power_modes",size:2},1:{divider:1e3,function_type:"none",name:"current_power_source",size:2},2:{divider:1e3,function_type:"none",name:"constant_power",size:2},3:{divider:1e3,function_type:"none",name:"rechargeable_battery",size:2},4:{divider:1e3,function_type:"none",name:"disposable_battery",size:2},5:{divider:1e3,function_type:"none",name:"solar_harvesting",size:2},6:{divider:1e3,function_type:"none",name:"TIC_harvesting",size:2}}}};function p(e){var t="",a=e.toString(2);return t+=d(a,8)}function _(e,t,a,r,o,s,d,c,p,_){if(138===e||10==e){var f=u[d],v=p,m=f.size,E=f.name;void 0===v&&(v="single"===E?"float":"int8"===E||"int16"===E||"int32"===E?"int":"none");var P=function(e,t,a,r,o,s,d,c,u){var p={reportCauses:[],causesMessages:[]};138===e&&p.causesMessages.push("alarm triggered");var _=o;if(_>=r.length)return p;var f=!1,v=3&(r[o]>>=4);if(2==v)f=!0;else if(1!=v)throw new Error("Alarm decoding: Unexpected cause type. (ReportParams byte = ".concat(r[o],")"));if(++_>=r.length)throw new Error("Alarm decoding: Unexpected end of causes.)");function m(e,t,a){if(_+t-1>=r.length)throw new Error("Alarm decoding: Unexpected end of data while reading value.");for(var o=0,s=0;s<t;s++)o=o<<8|r[_++];if("int"===e)o=n(o,t);else{if("float"!==e)throw new Error("Alarm decoding: Unknown type kind: "+e);if(4!==t)throw new Error("Alarm decoding: Invalid float size. Only 4 bytes are supported.");o=i(o)}return o/a}for(;_<r.length;){var E={};if(_>=r.length)throw new Error("Alarm decoding: Unexpected end of data before reading CSD.");var P=r[_++];E.criterionIndex=7&P;var g=P>>3&3;E.mode=1===g?"delta":2===g?"threshold":"unused",E.hasFallen=!!(32&P),E.hasExceeded=!!(64&P),E.isAlarm=!!(128&P);var y=void 0,h=void 0,b=void 0,S=void 0,A=void 0,z=void 0,H=void 0,T=E.hasExceeded&&E.hasFallen?"exceed&fall":E.hasExceeded?"exceed":E.hasFallen?"fall":"",C=null;if(f){if(_>=r.length)throw new Error("Alarm decoding: Unexpected end of data before reading FI.");var N=s,R=d,U=c;if(E.fieldIndex=0,null!=u&&!0===u&&(C=r[_++],E.fieldIndex=C,l[t]&&l[t][a]&&l[t][a][C])){var D=l[t][a][C];N=D.function_type||s,R=D.size||d,U=D.divider||c,z=D.name||"FieldUndef !"}y=m(N,R,U),"threshold"===E.mode&&(h=m(N,R,U))}if("threshold"===E.mode&&f){if(_>=r.length)throw new Error("Alarm decoding: Unexpected end of data before reading Occ.");var M=r[_++];if(b=M,M>0&&128&M){if(_+3>=r.length)throw new Error("Alarm decoding: Invalid OccH or OccL read.");S=r[_++]<<8|r[_++],A=r[_++]<<8|r[_++]}}p.reportCauses.push(E),f?(H="threshold"===E.mode?void 0!==S?"cause:{alarm:".concat(E.isAlarm,", criterion_index: ").concat(E.criterionIndex,", mode: threshold, crossing: ").concat(T,", value: ").concat(y,", gap: ").concat(h,", occurences_up: ").concat(S,", occurences_down: ").concat(A):"cause:{alarm:".concat(E.isAlarm,", criterion_index: ").concat(E.criterionIndex,", mode: threshold, crossing: ").concat(T,", value: ").concat(y,", gap: ").concat(h,", occurences: ").concat(b):"cause:{alarm:".concat(E.isAlarm,", criterion_index: ").concat(E.criterionIndex,", mode: delta, value: ").concat(y),z&&(H+=", field: ".concat(z)),H+="}"):(H="cause:{alarm:".concat(E.isAlarm,", criterion_index: ").concat(E.criterionIndex,", mode: ").concat(E.mode),"threshold"===E.mode&&(H+=", crossing: ".concat(T)),H+="}"),p.causesMessages.push(H)}if(_!==r.length)throw new Error("Alarm decoding: Remaining unprocessed bytes detected. Expected ".concat(r.length,", but stopped at ").concat(_,"."));return p}(e,t,a,r,s,v,m,c,_);o.zclheader.alarmmsg=P.causesMessages}}e.exports={normalisation_standard:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],d=e.bytes,u=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={},d=0;r.lora={},r.lora.port=t;var u=e.length,l="";r.lora.payload="";for(var f=0;f<u;f++){1===(l=e[f].toString(16).toUpperCase()).length&&(l="0"+l),r.lora.payload+=l;var v=new Date;r.lora.date=v.toISOString()}if(125===t)if(0==!(1&e[0])){r.zclheader={},r.zclheader.report="standard";var m,E,P=-1;if(r.zclheader.endpoint=(224&e[0])>>5|(6&e[0])<<2,m=e[1],r.zclheader.cmdID=s(m,2),E=256*e[2]+e[3],r.zclheader.clustID=s(E,4),10===m||138===m||1===m){d=1,r.data={},P=256*e[4]+e[5],r.zclheader.attID=s(P,4);var g=e[4],y=0;if(10!==m&&138!==m||(y=7),138===m&&(r.zclheader.alarm=1),1===m&&(y=8,r.zclheader.status=e[6]),83===E||84===E||85===E||86===E||87===E){if("function"!=typeof a)throw new c("TIC_Decode function not found");r.data=a(E,P,e.slice(y+1))}if(0===E&&2===P){r.data.firmware="";for(var h=0;h<3;h++)r.data.firmware+=String(e[y+h]),h<2&&(r.data.firmware+=".");var b=256*e[y+3]*256+256*e[y+4]+e[y+5];r.data.firmware+="."+b.toString()}if(0===E&&3===P){var S=e[y];r.data.kernel="";for(var A=0;A<S;A++)r.data.kernel+=String.fromCharCode(e[y+1+A])}if(0===E&&4===P){var z=e[y];r.data.manufacturer="";for(var H=0;H<z;H++)r.data.manufacturer+=String.fromCharCode(e[y+1+H])}if(0===E&&5===P){var T=e[y];r.data.model="";for(var C=0;C<T;C++)r.data.model+=String.fromCharCode(e[y+1+C])}if(0===E&&6===P){var N=e[y];r.data.date="";for(var R=0;R<N;R++)r.data.date+=String.fromCharCode(e[y+1+R])}if(0===E&&16===P){var U=e[y];r.data.position="";for(var D=0;D<U;D++)r.data.position+=String.fromCharCode(e[y+1+D])}if(0===E&&32769===P){var M=e[y];r.data.application_name="";for(var x=0;x<M;x++)r.data.application_name+=String.fromCharCode(e[y+1+x])}if(1026===E&&0===P){var w=e[y-1];r.data.temperature=n(256*e[y]+e[y+1],2)/100,_(m,E,P,e,r,y+2,w,100,"int")}if(1026===E&&1===P&&(r.data.min_temperature=n(256*e[y]+e[y+1],2)/100),1026===E&&2===P&&(r.data.max_temperature=n(256*e[y]+e[y+1],2)/100),1029===E&&0===P){var I=e[y-1];r.data.humidity=(256*e[y]+e[y+1])/100,_(m,E,P,e,r,y+2,I,100,"none")}if(1029===E&&1===P&&(r.data.min_humidity=(256*e[y]+e[y+1])/100),1029===E&&2===P&&(r.data.max_humidity=(256*e[y]+e[y+1])/100),15===E&&1026===P){var O=e[y-1];r.data.index=256*e[y]*256*256+256*e[y+1]*256+256*e[y+2]+e[y+3],_(m,E,P,e,r,y+4,O,1,"none")}if(15===E&&85===P){var F=e[y-1];r.data.pin_state=!!e[y],_(m,E,P,e,r,y+1,F,1,"none")}if(15===E&&84===P&&(0===e[y]&&(r.data.polarity="normal"),1===e[y]&&(r.data.polarity="reverse")),15===E&&1024===P&&(0===e[y]&&(r.data.edge_selection="none"),1===e[y]&&(r.data.edge_selection="falling edge"),2===e[y]&&(r.data.edge_selection="rising edge"),3===e[y]&&(r.data.edge_selection="both edges"),5===e[y]&&(r.data.edge_selection="polling and falling edge"),6===e[y]&&(r.data.edge_selection="polling and rising edge"),7===e[y]&&(r.data.edge_selection="polling and both edges")),15===E&&1025===P&&(r.data.debounce_period=e[y]),15===E&&1027===P&&(r.data.poll_period=e[y]),15===E&&1028===P&&(r.data.force_notify=e[y]),19===E&&85===P){var B=e[y-1];r.data.output_value=e[y],_(m,E,P,e,r,y+1,B,1,"none")}if(6===E&&0===P){var J=e[y];r.data.output=1===J?"ON":"OFF"}if(32776===E&&0===P){var V=e[y-1];r.data.differential_pressure=256*e[y]+e[y+1],_(m,E,P,e,r,y+2,V,1,"none")}if(32773===E&&0===P){var X=e[y-1];r.data.pin_state_1=!(1&~e[y+1]),r.data.pin_state_2=!(2&~e[y+1]),r.data.pin_state_3=!(4&~e[y+1]),r.data.pin_state_4=!(8&~e[y+1]),r.data.pin_state_5=!(16&~e[y+1]),r.data.pin_state_6=!(32&~e[y+1]),r.data.pin_state_7=!(64&~e[y+1]),r.data.pin_state_8=!(128&~e[y+1]),r.data.pin_state_9=!(1&~e[y]),r.data.pin_state_10=!(2&~e[y]),_(m,E,P,e,r,y+2,X,100,"none")}if(32774===E&&0===P&&(r.data.speed=256*e[y]*256+256*e[y+1]+e[y+2]),32774===E&&1===P&&(r.data.data_bit=e[y]),32774===E&&2===P&&(r.data.parity=e[y]),32774===E&&3===P&&(r.data.stop_bit=e[y]),12===E&&85===P){var G=e[y-1];r.data.analog=i(256*e[y]*256*256+256*e[y+1]*256+256*e[y+2]+e[y+3]),_(m,E,P,e,r,y+4,G,1,"float")}if(12===E&&256===P&&(5===e[y+1]&&(r.data.type="ppm"),255===e[y+1]&&0===e[y+3]&&(r.data.type="mA"),255===e[y+1]&&1===e[y+3]&&(r.data.type="mV")),12===E&&32771===P&&(r.data.power_duration=256*e[y]+e[y+1]),12===E&&32772===P){var q={},k=p(e[y]),L=p(e[y+1]),Y=2*k[0]+k[1];0===Y&&(q.mode="idle"),1===Y&&(q.mode="chock"),2===Y&&(q.mode="click");var j=8*k[2]+4*k[3]+2*k[4]+k[5];0===j&&(q.frequency="idle"),1===j&&(q.frequency="1Hz"),2===j&&(q.frequency="10Hz"),3===j&&(q.frequency="25Hz"),4===j&&(q.frequency="50Hz"),5===j&&(q.frequency="100Hz"),6===j&&(q.frequency="200Hz"),7===j&&(q.frequency="400Hz"),8===j&&(q.frequency="1620Hz"),9===j&&(q.frequency="5376Hz"),q.range={};var W=2*k[6]+k[7];0===W&&(q.range.precision="+/- 2g",q.range.value=16),1===W&&(q.range.precision="+/- 4g",q.range.value=32),2===W&&(q.range.precision="+/- 8g",q.range.value=64),3===W&&(q.range.precision="+/- 16g",q.range.value=128);var Z=128*L[0]+64*L[1]+32*L[2]+16*L[3]+8*L[4]+4*L[5]+2*L[6]+L[7];q.threshold=Z*q.range.value}if(32775===E&&1===P){r.data.modbus_payload="";for(var K=e[y],Q=0;Q<K;Q++)l=e[y+Q+1].toString(16).toUpperCase(),0===Q?r.data.modbus_slaveID=e[y+Q+1]:1===Q?r.data.modbus_fnctID=e[y+Q+1]:2===Q?r.data.modbus_datasize=e[y+Q+1]:r.data.modbus_payload+=l}if(32777===E&&0===P){var $=e[y+2]<<8|e[y+3];r.data.modbus_frame_series_sent=e[y+1],r.data.modbus_frame_number_in_serie=(57344&$)>>13,r.data.modbus_last_frame_of_serie=(7168&$)>>10;for(var ee=0;ee<=9;ee++)r.data["modbus_EP".concat(ee)]=!!($&1<<ee);function Xe(e,t,a,r,n,i){if(!0===e){if(0===a&&(n.data["modbus_slaveID_EP".concat(i)]=r[t],n.data["modbus_fnctID_EP".concat(i)]=r[t+1],n.data["modbus_datasize_EP".concat(i)]=r[t+2],t+=3),n.data["modbus_payload_EP".concat(i)]="",void 0===r[t])return n;for(var o=0;o<n.data["modbus_datasize_EP".concat(i)];o++){var s=r[t+o].toString(16).toUpperCase();1===s.length&&(s="0"+s),n.data["modbus_payload_EP".concat(i)]+=s}t+=n.data["modbus_datasize_EP".concat(i)]}return t}for(var te=y+4,ae=0;ae<=9;ae++)te=Xe(r.data["modbus_EP".concat(ae)],te,0,e,r,ae)}if(82===E&&0===P&&(r.data.active_energy=n(256*e[y+1]*256+256*e[y+2]+e[y+3],3),r.data.reactive_energy=n(256*e[y+4]*256+256*e[y+5]+e[y+6],3),r.data.nb_samples=256*e[y+7]+e[y+8],r.data.active_power=n(256*e[y+9]+e[y+10],2),r.data.reactive_power=n(256*e[y+11]+e[y+12],2)),32772===E&&0===P&&(1===e[y]&&(r.data.message_type="confirmed"),0===e[y]&&(r.data.message_type="unconfirmed")),32772===E&&1===P&&(r.data.nb_retry=e[y]),32772===E&&2===P&&(r.data.automatic_association={},r.data.automatic_association.period_in_minutes=256*e[y+1]+e[y+2],r.data.automatic_association.nb_err_frames=256*e[y+3]+e[y+4]),32772===E&&3===P&&(r.data.data_rate=e[y+2]),32772===E&&4===P){r.data.ABP_dev_address="";for(var re=0;re<4;re++)r.data.ABP_dev_address+=String(e[y+1+re]),re<3&&(r.data.ABP_dev_address+=".")}if(32772===E&&5===P){r.data.OTA_app_EUI="";for(var ne=0;ne<8;ne++)r.data.OTA_app_EUI+=String(e[y+1+ne]),ne<7&&(r.data.OTA_app_EUI+=".")}if(80===E&&4===P){e[y],e[y+1];for(var ie={},oe=e[y+2],se=0;se<oe;se++){var de={};de.endpoint=e[y+3+7*se];var ce=e[y+4+7*se];de.input_clusters=[];for(var ue=0;ue<ce;ue++)de.input_clusters[ue]=s(256*e[y+5+7*se+2*ue]+e[y+6+7*se+2*ue],4);var le=e[y+5+7*se+2*ce];de.output_clusters=[];for(var pe=0;pe<le;pe++)de.output_clusters[pe]=s(256*e[y+6+7*se+2*pe]+e[y+7+7*se+2*pe],4);ie[se]=de}r.data.configuration=ie}if(80===E&&6===P){var _e=y+3,fe=e[y-1];1&~e[y+2]||(r.data.main_or_external_voltage=(256*e[_e]+e[_e+1])/1e3,_e+=2),2&~e[y+2]||(r.data.rechargeable_battery_voltage=(256*e[_e]+e[_e+1])/1e3,_e+=2),4&~e[y+2]||(r.data.disposable_battery_voltage=(256*e[_e]+e[_e+1])/1e3,_e+=2),8&~e[y+2]||(r.data.solar_harvesting_voltage=(256*e[_e]+e[_e+1])/1e3,_e+=2),16&~e[y+2]||(r.data.tic_harvesting_voltage=(256*e[_e]+e[_e+1])/1e3,_e+=2),_(m,E,P,e,r,_e+1,fe,1e3,"multistate",!0)}if(80===E&&255===g){var ve="action "+e[5].toString();r.data[ve]="";for(var me=e[y+1],Ee="none",Pe=0;Pe<me;Pe++)Ee+=String.fromCharCode(e[y+1+Pe]);r.data[ve]=Ee}if(32778===E&&0===P){var ge=y,ye=e[ge-1];r.data.positive_active_energy=n(256*e[ge+1]*256*256+256*e[ge+2]*256+256*e[ge+3]+e[ge+4],4),ge+=4,r.data.negative_active_energy=n(256*e[ge+1]*256*256+256*e[ge+2]*256+256*e[ge+3]+e[ge+4],4),ge+=4,r.data.positive_reactive_energy=n(256*e[ge+1]*256*256+256*e[ge+2]*256+256*e[ge+3]+e[ge+4],4),ge+=4,r.data.negative_reactive_energy=n(256*e[ge+1]*256*256+256*e[ge+2]*256+256*e[ge+3]+e[ge+4],4),ge+=4,r.data.positive_active_power=n(256*e[ge+1]*256*256+256*e[ge+2]*256+256*e[ge+3]+e[ge+4],4),ge+=4,r.data.negative_active_power=n(256*e[ge+1]*256*256+256*e[ge+2]*256+256*e[ge+3]+e[ge+4],4),ge+=4,r.data.positive_reactive_power=n(256*e[ge+1]*256*256+256*e[ge+2]*256+256*e[ge+3]+e[ge+4],4),ge+=4,r.data.negative_reactive_power=n(256*e[ge+1]*256*256+256*e[ge+2]*256+256*e[ge+3]+e[ge+4],4),_(m,E,P,e,r,ge+5,ye,1,"multistate",!0)}if(32784===E&&0===P){var he=e[y-1];r.data.active_energy_a=n(256*e[y+1]*256*256+256*e[y+2]*256+256*e[y+3]+e[y+4]),r.data.reactive_energy_a=n(256*e[y+5]*256*256+256*e[y+6]*256+256*e[y+7]+e[y+8]),r.data.active_energy_b=n(256*e[y+9]*256*256+256*e[y+10]*256+256*e[y+11]+e[y+12]),r.data.reactive_energy_b=n(256*e[y+13]*256*256+256*e[y+14]*256+256*e[y+15]+e[y+16]),r.data.active_energy_c=n(256*e[y+17]*256*256+256*e[y+18]*256+256*e[y+19]+e[y+20]),r.data.reactive_energy_c=n(256*e[y+21]*256*256+256*e[y+22]*256+256*e[y+23]+e[y+24]),r.data.active_energy_abc=n(256*e[y+25]*256*256+256*e[y+26]*256+256*e[y+27]+e[y+28]),r.data.reactive_energy_abc=n(256*e[y+29]*256*256+256*e[y+30]*256+256*e[y+31]+e[y+32]),_(m,E,P,e,r,y+33,he,1,"multistate",!0)}else if(32784===E&&1===P){var be=e[y-1];r.data.active_power_a=n(256*e[y+1]*256*256+256*e[y+2]*256+256*e[y+3]+e[y+4]),r.data.reactive_power_a=n(256*e[y+5]*256*256+256*e[y+6]*256+256*e[y+7]+e[y+8]),r.data.active_power_b=n(256*e[y+9]*256*256+256*e[y+10]*256+256*e[y+11]+e[y+12]),r.data.reactive_power_b=n(256*e[y+13]*256*256+256*e[y+14]*256+256*e[y+15]+e[y+16]),r.data.active_power_c=n(256*e[y+17]*256*256+256*e[y+18]*256+256*e[y+19]+e[y+20]),r.data.reactive_power_c=n(256*e[y+21]*256*256+256*e[y+22]*256+256*e[y+23]+e[y+24]),r.data.active_power_abc=n(256*e[y+25]*256*256+256*e[y+26]*256+256*e[y+27]+e[y+28]),r.data.reactive_power_abc=n(256*e[y+29]*256*256+256*e[y+30]*256+256*e[y+31]+e[y+32]),_(m,E,P,e,r,y+33,be,1,"multistate",!0)}if(32779===E&&0===P){var Se=y,Ae=e[Se-1];r.data.Vrms=n(256*e[Se+1]+e[Se+2],2)/10,Se+=2,r.data.Irms=n(256*e[Se+1]+e[Se+2],2)/10,Se+=2,r.data.angle=n(256*e[Se+1]+e[Se+2],2),_(m,E,P,e,r,Se+3,Ae,1,"multistate",!0)}if(32781===E&&0===P){var ze=e[y-1];r.data.Vrms_a=n(256*e[y+1]+e[y+2],2)/10,r.data.Irms_a=n(256*e[y+3]+e[y+4],2)/10,r.data.angle_a=n(256*e[y+5]+e[y+6],2),r.data.Vrms_b=n(256*e[y+7]+e[y+8],2)/10,r.data.Irms_b=n(256*e[y+9]+e[y+10],2)/10,r.data.angle_b=n(256*e[y+11]+e[y+12],2),r.data.Vrms_c=n(256*e[y+13]+e[y+14],2)/10,r.data.Irms_c=n(256*e[y+15]+e[y+16],2)/10,r.data.angle_c=n(256*e[y+17]+e[y+18],2),_(m,E,P,e,r,y+19,ze,1,"multistate",!0)}if(32780===E&&0===P){var He=e[y-1];r.data.concentration=256*e[y]+e[y+1],_(m,E,P,e,r,y+2,He,1,"none")}if(32780===E&&1===P&&(r.data.analog=e[y]),32780===E&&2===P&&(r.data.analog=e[y]),1024===E&&0===P){var Te=e[y-1];r.data.illuminance=256*e[y]+e[y+1],_(m,E,P,e,r,y+2,Te,1,"none")}if(1027===E&&0===P){var Ce=e[y-1];r.data.pressure=n(256*e[y]+e[y+1],2),_(m,E,P,e,r,y+2,Ce,1,"int")}if(1030===E&&0===P){var Ne=e[y-1];r.data.occupancy=!!e[y],_(m,E,P,e,r,y+1,Ne,1,"none")}if(32850===E&&0===P){var Re=y;r.data.frequency=(n(256*e[Re+1]+e[Re+2],2)+22232)/1e3,Re+=2,r.data.frequency_min=(n(256*e[Re+1]+e[Re+2],2)+22232)/1e3,Re+=2,r.data.frequency_max=(n(256*e[Re+1]+e[Re+2],2)+22232)/1e3,Re+=2,r.data.Vrms=n(256*e[Re+1]+e[Re+2],2)/10,Re+=2,r.data.Vrms_min=n(256*e[Re+1]+e[Re+2],2)/10,Re+=2,r.data.Vrms_max=n(256*e[Re+1]+e[Re+2],2)/10,Re+=2,r.data.Vpeak=n(256*e[Re+1]+e[Re+2],2)/10,Re+=2,r.data.Vpeak_min=n(256*e[Re+1]+e[Re+2],2)/10,Re+=2,r.data.Vpeak_max=n(256*e[Re+1]+e[Re+2],2)/10,Re+=2,r.data.over_voltage=n(256*e[Re+1]+e[Re+2],2),Re+=2,r.data.sag_voltage=n(256*e[Re+1]+e[Re+2],2)}if(32783===E){var Ue=y+1;if(0===P){var De=r.data.last={};De.NbTriggedAcq=o(e,Ue,"U32"),Ue+=4,De.Mean_X_G=o(e,Ue,"U16")/100,Ue+=2,De.Max_X_G=o(e,Ue,"U16")/100,Ue+=2,De.Dt_X_ms=o(e,Ue,"U16"),Ue+=2,De.Mean_Y_G=o(e,Ue,"U16")/100,Ue+=2,De.Max_Y_G=o(e,Ue,"U16")/100,Ue+=2,De.Dt_Y_ms=o(e,Ue,"U16"),Ue+=2,De.Mean_Z_G=o(e,Ue,"U16")/100,Ue+=2,De.Max_Z_G=o(e,Ue,"U16")/100,Ue+=2,De.Dt_Z_ms=o(e,Ue,"U16")}else if(1===P||2===P||3===P){var Me=1===P?"Stats_X":2===P?"Stats_Y":"Stats_Z",xe=r.data[Me]={};xe.NbAcq=o(e,Ue,"U16"),Ue+=2,xe.MinMean_G=o(e,Ue,"U16")/100,Ue+=2,xe.MinMax_G=o(e,Ue,"U16")/100,Ue+=2,xe.MinDt=o(e,Ue,"U16"),Ue+=2,xe.MeanMean_G=o(e,Ue,"U16")/100,Ue+=2,xe.MeanMax_G=o(e,Ue,"U16")/100,Ue+=2,xe.MeanDt=o(e,Ue,"U16"),Ue+=2,xe.MaxMean_G=o(e,Ue,"U16")/100,Ue+=2,xe.MaxMax_G=o(e,Ue,"U16")/100,Ue+=2,xe.MaxDt=o(e,Ue,"U16"),Ue+=2}else if(32768===P){var we=r.data.params={};we.WaitFreq_Hz=o(e,Ue,"U16")/10,Ue+=2,we.AcqFreq_Hz=o(e,Ue,"U16")/10;var Ie=o(e,Ue+=2,"U16");Ue+=2,32768&Ie&&(Ie=60*(-32769&Ie)),we.NewWaitDelay_s=32768&Ie?Ie=60*(-32769&Ie):Ie,we.MaxAcqDuration_ms=o(e,Ue,"U16"),Ue+=2,we.Threshold_X_G=o(e,Ue,"U16")/100,Ue+=2,we.Threshold_Y_G=o(e,Ue,"U16")/100,Ue+=2,we.Threshold_Z_G=o(e,Ue,"U16")/100,Ue+=2,we.OverThrsh_Dt_ms=o(e,Ue,"U16"),Ue+=2,we.UnderThrsh_Dt_ms=o(e,Ue,"U16"),Ue+=2,we.Range_G=o(e,Ue,"U16")/100,Ue+=2,we.FilterSmoothCoef=o(e,Ue,"U8"),Ue+=1,we.FilterGainCoef=o(e,Ue,"U8"),Ue+=1,(we=r.data.Params.working_modes={}).SignalEachAcq=128&e[Ue]?"true":"false",we.RstAftStdRpt_X=1&e[Ue]?"true":"false",we.RstAftStdRpt_Y=2&e[Ue]?"true":"false",we.RstAftStdRpt_7=4&e[Ue]?"true":"false"}}var Oe=Object.keys(r.data)[0];if(void 0===r.data[Oe])throw new c("bad payload1");if(e.length<=7)throw new c("bad payload2")}if(7===m){d=1,P=256*e[6]+e[7],r.zclheader.attID=s(P,4),r.zclheader.status=e[4],r.zclheader.report_parameters={};var Fe=p(e[5]);r.zclheader.report_parameters.new_mode_configuration=Fe[0],"0"===Fe[2]&&"0"===Fe[3]&&(r.zclheader.report_parameters.cause_request="none"),"0"===Fe[2]&&"1"===Fe[3]&&(r.zclheader.report_parameters.cause_request="short"),"1"===Fe[2]&&"0"===Fe[3]&&(r.zclheader.report_parameters.cause_request="long"),"1"===Fe[2]&&"1"===Fe[3]&&(r.zclheader.report_parameters.cause_request="reserved"),r.zclheader.report_parameters.secured_if_alarm=Fe[4],r.zclheader.report_parameters.secured=Fe[5],r.zclheader.report_parameters.no_hearde_port=Fe[6],r.zclheader.report_parameters.batch=Fe[7]}if(9===m){d=1,P=256*e[6]+e[7],r.zclheader.attID=s(P,4),r.zclheader.status=e[4],r.zclheader.report_parameters={};var Be=p(e[5]);if(r.zclheader.report_parameters.new_mode_configuration=Be[0],"0"===Be[2]&&"0"===Be[3]&&(r.zclheader.report_parameters.cause_request="none"),"0"===Be[2]&&"1"===Be[3]&&(r.zclheader.report_parameters.cause_request="short"),"1"===Be[2]&&"0"===Be[3]&&(r.zclheader.report_parameters.cause_request="long"),"1"===Be[2]&&"1"===Be[3]&&(r.zclheader.report_parameters.cause_request="reserved"),r.zclheader.report_parameters.secured_if_alarm=Be[4],r.zclheader.report_parameters.secured=Be[5],r.zclheader.report_parameters.no_hearde_port=Be[6],r.zclheader.report_parameters.batch=Be[7],r.zclheader.attribut_type=e[8],r.zclheader.min={},128&~e[9]?(r.zclheader.min.value=256*e[9]+e[10],r.zclheader.min.unit="seconds"):(r.zclheader.min.value=256*(e[9]-128)+e[10],r.zclheader.min.unit="minutes"),r.zclheader.max={},128&~e[11]?(r.zclheader.max.value=256*e[11]+e[12],r.zclheader.max.unit="seconds"):(r.zclheader.max.value=256*(e[11]-128)+e[12],r.zclheader.max.unit="minutes"),r.lora.payload="",80===E&&6===P)for(var Je=e[13]/5,Ve=0;Je>0;)r.zclheader.modepower=e[14+5*Ve],r.zclheader.powersource=e[15+5*Ve],r.zclheader.delta=256*e[16+5*Ve]+e[17+5*Ve],r.zclheader.changedpowersource=e[18+5*Ve],Ve++,Je--}if(0===d)throw new c("bad payload3")}else r.batch={},r.batch.report="batch";return r}(d,e.fPort,a);if(void 0!==u.zclheader){if(void 0!==u.zclheader.alarmmsg&&(r=u.zclheader.alarmmsg),7===d[1])return{data:u.zclheader,warning:r};if(9===d[1])return{data:u.zclheader,warning:r};if(1===d[1]){if(void 0===u.zclheader.data){for(var l=[],f=!0,v=0;f;){var m=Object.keys(u.data)[v];if(void 0===m){f=!1;break}l.push({variable:m,value:u.data[m],date:e.recvTime}),v++}return{data:l,type:"standard",warning:r}}return{data:{variable:"read reporting configuration response status",value:u.zclheader.data,date:e.recvTime},warning:r}}}if(void 0!==u.zclheader){if(void 0!==t){for(var E=u.zclheader.endpoint,P=!0,g=0,y=[],h="";P;){var b=Object.keys(u.data)[g];if(void 0===b){P=!1;break}void 0===t[b]?y.push({variable:b,value:u.data[b],date:e.recvTime}):"NA"===(h=t[b][E])?y.push({variable:h,value:"NA",date:e.recvTime}):y.push({variable:h,value:u.data[b],date:e.recvTime}),g++}return{data:y,type:"standard",warning:r}}throw new c("bad decoding")}return{type:u.batch.report,payload:u.lora.payload}}}},640:function(e,t,a){var r=a(839),n=(r.UintToInt,r.Bytes2Float32),i=r.BytesToInt64,o=(r.decimalToHex,r.zeroPad),s=r.BytesToHexStr;e.exports={TIC_Decode:function(e,t,a){var r=["!?!","*",""," ACTIF","ACTIF","CONSO","CONTROLE","DEP","INACTIF","PROD","TEST","kVA","kW"],d=["!?!","*",""," ? ","000","HC","HCD","HCE","HCH","HH","HH ","HP","HP ","HPD","HPE","HPH","JA","JA ","P","P  ","PM","PM ","XXX"],c=["!?!","*","","BT 4 SUP36","BT 5 SUP36","HTA 5     ","HTA 8     ","TJ EJP    ","TJ EJP-HH ","TJ EJP-PM ","TJ EJP-SD ","TJ LU     ","TJ LU-CH  ","TJ LU-P   ","TJ LU-PH  ","TJ LU-SD  ","TJ MU     ","TV A5 BASE","TV A8 BASE","BASE","H PLEINE-CREUSE","HPHC","HC","HC et Week-End","EJP","PRODUCTEUR"],u=["!?!","*",""," ? ","000","HC","HCD","HCE","HCH","HH","HH ","HP","HP ","HPD","HPE","HPH","JA","JA ","P","P  ","PM","PM ","XXX","INDEX NON CONSO","BASE","HEURE CREUSE","HEURE PLEINE","HEURE NORMALE","HEURE POINTE","HC BLEU","BUHC","HP BLEU","BUHP","HC BLANC","BCHC","HP BLANC","BCHP","HC ROUGE","RHC","HP ROUGE","RHP","HEURE WEEK-END"],l=["!?!","*","","BT 4 SUP36","BT 5 SUP36","HTA 5     ","HTA 8     ","TJ EJP    ","TJ EJP-HH ","TJ EJP-PM ","TJ EJP-SD ","TJ LU     ","TJ LU-CH  ","TJ LU-P   ","TJ LU-PH  ","TJ LU-SD  ","TJ MU     ","TV A5 BASE","TV A8 BASE","BASE","H PLEINE-CREUSE","HPHC","HC","HC et Week-End","EJP","PRODUCTEUR"];function p(e,t,a){var r="";if(128&e[t]){var n=127&e[t];t+=1,n>0?(r=String.fromCharCode.apply(null,e.slice(t,t+n)),t+=n):r=""}else r=a[127&e[t]],t+=1;return{x:r,i:t}}function _(e,t){return{x:o(i(e,t,"U8"),2)+"/"+o(i(e,t+1,"U8"),2)+"/"+o(i(e,t+2,"U8"),2)+" "+o(i(e,t+3,"U8"),2)+":"+o(i(e,t+4,"U8"),2)+":"+o(i(e,t+5,"U8"),2),i:t+=6}}function f(e,t,a){var r=i(e,t,"U32",a);t+=4,r+=Date.UTC(2e3,0,1,0,0,0)/1e3;var n=new Date(1e3*r);return{x:o(n.getDate(),2)+"/"+o(n.getMonth(),2)+"/"+n.getFullYear()+" "+o(n.getHours(),2)+":"+o(n.getMinutes(),2)+":"+o(n.getSeconds(),2),i:t}}function v(e,t,a){return{x:String.fromCharCode.apply(null,e.slice(t,t+a)),i:t+=a}}function m(e,t){return{b:e,i:t}}function E(e,t){return function(e,t){var a=e.slice(t).indexOf(0);return{x:String.fromCharCode.apply(null,e.slice(t,t+a)),i:t+=a+1}}(e,t)}function P(e,t){return{x:i(e,t,"U8"),i:t+=1}}function g(e,t){return{x:i(e,t,"U16"),i:t+=2}}function y(e,t){return{x:i(e,t,"I16"),i:t+=2}}function h(e,t){return{x:i(e,t,"U24"),i:t+=3}}function b(e,t){var a={};for(t=1;t<=4;t++)a["Value_"+t]=i(e,t,"U24"),t+=3;return{x:a,i:t}}function S(e,t){return{x:i(e,t,"U32"),i:t+=4}}function A(e,t){return{x:Ee=n(e,t),i:t+=4}}function z(e,t){return _(e,t)}function H(e,t){return f(e,t)}function T(e,t){return p(e,t,d)}function C(e,t){return{x:{},i:t=p(e,f(e,t).i,d).i}}function N(e,t){var a=o(i(e,t,"U8"),2);t++;var r=o(i(e,t,"U8"),2);return t++,{x:a+"/"+r+" "+o(i(e,t,"U8"),2),i:++t}}function R(e,t){var a={},r=v(e,t,1),n=_(e,r.i),o=i(e,t,"U8");return t=n.i+1,a.S=r.x,a.Date=n.x,a.Value=o,{x:a,i:t}}function U(e,t){var a={},r=v(e,t,1),n=_(e,r.i),o=i(e,t,"U16");return t=n.i+1,a.S=r.x,a.Date=n.x,a.Value=o,{x:a,i:t}}function D(e,t){var a={},r=v(e,t,1),n=_(e,r.i),o=i(e,t,"U24");return t=n.i+1,a.S=r.x,a.Date=n.x,a.Value=o,{x:a,i:t}}function M(e,t){return p(e,t,r)}function x(e,t){var a={},n=i(e,t,"U24");t+=3,a.Value=n;var o=p(e,t,r);return a.Label=o.x,{x:a,i:t=o.i}}function w(e,t){return p(e,t,c)}function I(e,t){for(var a=[],r=0;r<11;r++){var n={},d=o(i(e,t,"U8"),2);if(t++,255===d)n.Status="NONUTILE";else{var c=o(i(e,t,"U8"),2);t++;var u=s(e.slice(t,2));t++,n.Time=d+":"+c,n.Status=u,t+=e[t]+1}a.push(n)}return{x:a,i:t}}function O(e){return e}function F(e){return e}function B(e){return e}function J(e){return e}function V(e){return e}function X(e){return e}function G(e){return e}function q(e){return e}function k(e){return e}function L(e){return e}function Y(e){return e}function j(e){return e}function W(e){return e}function Z(e){return e}function K(e){return e}function Q(e){return e}function $(e){return e}function ee(e){return e}function te(e){return e}function ae(e){return e}function re(e){return e}var ne=[["CONTRAT",E,0,F],["DATECOUR",z,0,O],["DATE",z,0,O],["EA",h,0,function(e){return e}],["ERP",h,0,function(e){return e}],["PTCOUR",E,0,F],["PREAVIS",E,0,F],["MODE",m,0,F],["DATEPA1",z,0,O],["PA1",g,0,j],["DATEPA2",z,0,O],["PA2",g,0,j],["DATEPA3",z,0,O],["PA3",g,0,j],["DATEPA4",z,0,O],["PA4",g,0,j],["DATEPA5",z,0,O],["PA5",g,0,j],["DATEPA6",z,0,O],["PA6",g,0,j],["*p*",h,0,G],["KDC",P,0,Y],["KDCD",P,0,Y],["TGPHI",A,0,re],["PSP",g,0,j],["PSPM",g,0,j],["PSHPH",g,0,j],["PSHPD",g,0,j],["PSHCH",g,0,j],["PSHCD",g,0,j],["PSHPE",g,0,j],["PSHCE",g,0,j],["PSJA",g,0,j],["PSHH",g,0,j],["PSHD",g,0,j],["PSHM",g,0,j],["PSDSM",g,0,j],["PSSCM",g,0,j],["MODE",m,0,F],["PA1MN",g,0,j],["PA10MN",g,0,j],["PREA1MN",y,0,W],["PREA10MN",y,0,W],["TGPHI",A,0,re],["U10MN",g,0,function(e){return e}]],ie=[["DEBUTp",z,0,O,0],["FINp",z,0,O,6],["CAFp",g,0,X,12],["DATEEAp",z,0,O,14],["EApP",h,0,ee,20],["EApPM",h,0,ee,23],["EApHCE",h,0,ee,26],["EApHCH",h,0,ee,29],["EApHH",h,0,ee,32],["EApHCD",h,0,ee,35],["EApHD",h,0,ee,38],["EApJA",h,0,ee,41],["EApHPE",h,0,ee,44],["EApHPH",h,0,ee,47],["EApHPD",h,0,ee,50],["EApSCM",h,0,ee,53],["EApHM",h,0,ee,56],["EApDSM",h,0,ee,59],["DATEERPp",z,0,O,62],["ERPpP",h,0,ae,68],["ERPpPM",h,0,ae,71],["ERPpHCE",h,0,ae,74],["ERPpHCH",h,0,ae,77],["ERPpHH",h,0,ae,80],["ERPpHCD",h,0,ae,83],["ERPpHD",h,0,ae,86],["ERPpJA",h,0,ae,89],["ERPpHPE",h,0,ae,92],["ERPpHPH",h,0,ae,95],["ERPpHPD",h,0,ae,98],["ERPpSCM",h,0,ae,101],["ERPpHM",h,0,ae,104],["ERPpDSM",h,0,ae,107],["DATEERNp",z,0,O,110],["ERNpP",h,0,ae,116],["ERNpPM",h,0,ae,119],["ERNpHCE",h,0,ae,122],["ERNpHCH",h,0,ae,125],["ERNpHH",h,0,ae,128],["ERNpHCD",h,0,ae,131],["ERNpHD",h,0,ae,134],["ERNpJA",h,0,ae,137],["ERNpHPE",h,0,ae,140],["ERNpHPH",h,0,ae,143],["ERNpHPD",h,0,ae,146],["ERNpSCM",h,0,ae,149],["ERNpHM",h,0,ae,152],["ERNpDSM",h,0,ae,155]],oe=[["DEBUTp1",z,0,O,0],["FINp1",z,0,O,6],["CAFp1",g,0,X,12],["DATEEAp1",z,0,O,14],["EAp1P",h,0,ee,20],["EAp1PM",h,0,ee,23],["EAp1HCE",h,0,ee,26],["EAp1HCH",h,0,ee,29],["EAp1HH",h,0,ee,32],["EAp1HCD",h,0,ee,35],["EAp1HD",h,0,ee,38],["EAp1JA",h,0,ee,41],["EAp1HPE",h,0,ee,44],["EAp1HPH",h,0,ee,47],["EAp1HPD",h,0,ee,50],["EAp1SCM",h,0,ee,53],["EAp1HM",h,0,ee,56],["EAp1DSM",h,0,ee,59],["DATEERPp1",z,0,O,62],["ERPp1P",h,0,ae,68],["ERPp1PM",h,0,ae,71],["ERPp1HCE",h,0,ae,74],["ERPp1HCH",h,0,ae,77],["ERPp1HH",h,0,ae,80],["ERPp1HCD",h,0,ae,83],["ERPp1HD",h,0,ae,86],["ERPp1JA",h,0,ae,89],["ERPp1HPE",h,0,ae,92],["ERPp1HPH",h,0,ae,95],["ERPp1HPD",h,0,ae,98],["ERPp1SCM",h,0,ae,101],["ERPp1HM",h,0,ae,104],["ERPp1DSM",h,0,ae,107],["DATEERNp1",z,0,O,110],["ERNp1P",h,0,ae,116],["ERNp1PM",h,0,ae,119],["ERNp1HCE",h,0,ae,122],["ERNp1HCH",h,0,ae,125],["ERNp1HH",h,0,ae,128],["ERNp1HCD",h,0,ae,131],["ERNp1HD",h,0,ae,134],["ERNp1JA",h,0,ae,137],["ERNp1HPE",h,0,ae,140],["ERNp1HPH",h,0,ae,143],["ERNp1HPD",h,0,ae,146],["ERNp1SCM",h,0,ae,149],["ERNp1HM",h,0,ae,152],["ERNp1DSM",h,0,ae,155]],se=[["ADIR1",g,0,V],["ADIR2",g,0,V],["ADIR3",g,0,V],["ADCO",E,0,F],["OPTARIF",E,0,F],["ISOUSC",P,0,J],["BASE",S,0,L],["HCHC",S,0,L],["HCHP",S,0,L],["EJPHN",S,0,L],["EJPHPM",S,0,L],["BBRHCJB",S,0,L],["BBRHPJB",S,0,L],["BBRHCJW",S,0,L],["BBRHPJW",S,0,L],["BBRHCJR",S,0,L],["BBRHPJR",S,0,L],["PEJP",P,0,J],["GAZ",S,0,k],["AUTRE",S,0,k],["PTEC",E,0,F],["DEMAIN",E,0,F],["IINST",g,0,V],["IINST1",g,0,V],["IINST2",g,0,V],["IINST3",g,0,V],["ADPS",g,0,V],["IMAX",g,0,V],["IMAX1",g,0,V],["IMAX2",g,0,V],["IMAX3",g,0,V],["PMAX",S,0,G],["PAPP",S,0,G],["HHPHC",function(e,t){return{x:String.fromCharCode.apply(null,e.slice(0,1)),i:t+=1}},0,function(e){return e}],["MOTDETAT",E,0,F],["PPOT",P,0,function(e){return e}]],de=[["JAUNE",function(e,t){var a=o(i(e,t,"U8"),2);t++;var r=o(i(e,t,"U8"),2);t++;var n=o(i(e,t,"U8"),2);return t++,{x:n+"/"+o(i(e,t,"U8"),2)+" "+a+":"+r,i:++t}},0,O],["JAUNE",E,0,F],["JAUNE",E,0,F],["JAUNE",h,0,G],["JAUNE",P,0,J],["ENERG",function(e,t){var a={};for(t=1;t<=4;t++)a["Value_"+t]=i(e,t,"U24"),t+=3;return{x:a,i:t}},0,q],["ENERG",h,0,q],["ENERG",h,0,q],["ENERG",h,0,q],["ENERG",h,0,q],["ENERG",h,0,q],["PERCC",N,0,O],["PERCC",P,0,J],["PMAXC",b,0,G],["PMAXC",h,0,G],["PMAXC",h,0,G],["PMAXC",h,0,G],["TDEPA",b,0,G],["TDEPA",h,0,G],["TDEPA",h,0,G],["TDEPA",h,0,G],["PERCP",N,0,O],["PERCP",P,0,J],["PMAXP",b,0,G],["PMAXP",h,0,G],["PMAXP",h,0,G],["PMAXP",h,0,G],["PSOUSC",b,0,G],["PSOUSC",h,0,G],["PSOUSC",h,0,G],["PSOUSC",h,0,G],["PSOUSP",b,0,G],["PSOUSP",h,0,G],["PSOUSP",h,0,G],["PSOUSP",h,0,G],["FCOU",function(e,t){var a=o(i(e,t,"U8"),2);return t++,{x:a+":"+o(i(e,t,"U8"),2),i:++t}},0,O],["FCOU",P,0,J]],ce=[["ADSC",E,0,F],["VTIC",P,0,J],["DATE",function(e,t){var a={},r=v(e,t,1),n=_(e,r.i);return a.S=r.x,a.Date=n.x,{x:a,i:t=n.i}},0,O],["NGTF",function(e,t){return p(e,t,l)},0,F],["LTARF",function(e,t){return p(e,t,u)},0,F],["EAST",S,0,L],["EASF01",S,0,L],["EASF02",S,0,L],["EASF03",S,0,L],["EASF04",S,0,L],["EASF05",S,0,L],["EASF06",S,0,L],["EASF07",S,0,L],["EASF08",S,0,L],["EASF09",S,0,L],["EASF10",S,0,L],["EASD01",S,0,L],["EASD02",S,0,L],["EASD03",S,0,L],["EASD04",S,0,L],["EAIT",S,0,L],["ERQ1",S,0,L],["ERQ2",S,0,L],["ERQ3",S,0,L],["ERQ4",S,0,L],["IRMS1",g,0,V],["IRMS2",g,0,V],["IRMS3",g,0,V],["URMS1",g,0,V],["URMS2",g,0,V],["URMS3",g,0,V],["PREF",P,0,J],["PCOUP",P,0,J],["SINSTS",h,0,G],["SINSTS1",h,0,G],["SINSTS2",h,0,G],["SINSTS3",h,0,G],["SMAXSN",D,0,G],["SMAXSN1",D,0,G],["SMAXSN2",D,0,G],["SMAXSN3",D,0,G],["SMAXSN?1",D,0,G],["SMAXSN1?1",D,0,G],["SMAXSN2?1",D,0,G],["SMAXSN3?1",D,0,G],["SINSTI",h,0,G],["SMAXIN",D,0,G],["SMAXIN-1",D,0,G],["CCASN",D,0,G],["CCASN?1",D,0,G],["CCAIN",D,0,G],["CCAIN?1",D,0,G],["UMOY1",U,0,V],["UMOY2",U,0,V],["UMOY3",U,0,V],["STGE",function(e,t){var a=s(e.slice(t,2));return t+=4,{x:a,i:t+=4}},0,O],["DPM1",R,0,J],["FPM1",R,0,J],["DPM2",R,0,J],["FPM2",R,0,J],["DPM3",R,0,J],["FPM3",R,0,J],["MSG1",E,0,F],["MSG2",E,0,F],["PRM",E,0,F],["RELAIS",function(e,t){return{x:i(e,t,"U8"),i:++t}},0,V],["NTARF",P,0,J],["NJOURF",P,0,J],["NJOURF+1",P,0,J],["PJOURF+1",I,0,O],["PPOINTE",I,0,O]],ue=[["TRAME",M,0,F],["ADS",function(e,t){return{x:s(e.slice(t+1,t+1+e[t])),i:t+=e[t]+1}},0,O],["MESURES1",w,0,F],["DATE",z,0,O],["EA_s",h,0,Z],["ER+_s",h,0,K],["ER-_s",h,0,K],["EAPP_s",h,0,Q],["EA_i",h,0,Z],["ER+_i",h,0,K],["ER-_i",h,0,K],["EAPP_i",h,0,Q],["PTCOUR1",T,0,F],["TARIFDYN",M,0,F],["ETATDYN1",T,0,F],["PREAVIS1",T,0,B],["TDYN1CD",C,0,O],["TDYN1CF",C,0,O],["TDYN1FD",C,0,O],["TDYN1FF",C,0,O],["MODE",M,0,F],["CONFIG",M,0,F],["DATEPA1",z,0,O],["PA1_s",g,0,j],["PA1_i",g,0,j],["DATEPA2",H,0,O],["PA2_s",g,0,j],["PA2_i",g,0,j],["DATEPA3",H,0,O],["PA3_s",g,0,j],["PA3_i",g,0,j],["DATEPA4",H,0,O],["PA4_s",g,0,j],["PA4_i",g,0,j],["DATEPA5",H,0,O],["PA5_s",g,0,j],["PA5_i",g,0,j],["DATEPA6",H,0,O],["PA6_s",g,0,j],["PA6_i",g,0,j],["DebP",H,0,O],["EAP_s",h,0,$],["EAP_i",h,0,$],["ER+P_s",h,0,te],["ER-P_s",h,0,te],["ER+P_i",h,0,te],["ER-P_i",h,0,te],["DebP-1",H,0,O],["FinP-1",H,0,O],["EaP-1_s",h,0,$],["EaP-1_i",h,0,$],["ER+P-1_s",h,0,te],["ER-P-1_s",h,0,te],["ER+P-1_i",h,0,te],["ER-P-1_i",h,0,te],["PS",x,0,O],["PREAVIS",M,0,F],["PA1MN",g,0,j],["PMAX_s",x,0,O],["PMAX_i",x,0,O],["TGPHI_s",A,0,re],["TGPHI_i",A,0,re],["MESURES2",w,0,F],["PTCOUR2",T,0,F],["ETATDYN2",T,0,F],["PREAVIS2",T,0,B],["TDYN2CD",C,0,O],["TDYN2CF",C,0,O],["TDYN2FD",C,0,O],["TDYN2FF",C,0,O],["DebP_2",H,0,O],["EaP_s2",h,0,$],["DebP-1_2",H,0,O],["FinP-1_2",H,0,O],["EaP-1_s2",h,0,$],["_DDMES1_",h,0,function(e){return e}]],le=[],pe={};if(83==e)if(!1&t)pe=ne,le._TICFrameType="ICE Generale";else if(!1&t)pe=ie,le._TICFrameType="ICE Periode P";else{if(!(!1&t))return le;pe=oe,le._TICFrameType="ICE Periode P moins 1"}else if(84==e)pe=se,le._TICFrameType="CBE/Historique";else if(85==e)pe=de,le._TICFrameType="CJE";else if(86==e)pe=ce,le._TICFrameType="Standard";else{if(87!=e)return le;pe=ue,le._TICFrameType="PMEPMI"}var _e=function(e){var t=[],a=e[0],r=31&a;if(0==r&&(r=8),32&a)for(var n=1;n<r;n++)t.push(e[n]);else for(var i=0,o=r;o>1;o--)for(var s=0;s<8;s++)e[o-1]>>s&1&&t.push(i),i++;return{DescSize:r,Indexes:t}}(a),fe=_e.DescSize,ve=_e.Indexes,me=a.slice(0,fe),Ee={};128&~me[0]||(Ee.Obsolete=!0),Ee.Bytes=s(me),Ee.Indexes=ve,le._Descriptor=Ee;for(var Pe=fe,ge=0;ge<ve.length;ge++){var ye=ve[ge],he=pe[ye][1](a,Pe);le[pe[ye][0]]=pe[ye][3](he.x),Pe=he.i}return le}}},566:function(e,t,a){var r=a(174),n=a(640).TIC_Decode,i=[],o={};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t&&(i=t),a&&(o=a),r.watteco_decodeUplink(e,i,o,n)}t.decodeUplink=s,("undefined"!=typeof globalThis?globalThis:this).decodeUplink=s}},t={},a=function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,a),i.exports}(566);driver=a}(),"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports.driver=driver);