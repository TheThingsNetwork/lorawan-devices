function decodeUplink(input) {\n return { \n data: Decode(input.fPort, input.bytes, input.variables)\n }; \n}\n\nfunction datalog(i,bytes){\n var aa= parseFloat((bytes[i]<<24>>16 | bytes[i+1])/1000).toFixed(3); \n var bb= parseFloat((bytes[i+2]<<24>>16 | bytes[i+3])/1000).toFixed(3); \n var cc= parseFloat((bytes[i+4]<<24>>16 | bytes[i+5])/1000).toFixed(3); \n var string='[('+ aa +'),'+'('+ bb +'),' +'('+ cc +')]'+','; \n return string;\n}\n\nfunction Decode(fPort, bytes, variables) {\n\n if(fPort==0x02)\n {\n var decode = {};\n decode.battery=(bytes[0]<<8 | bytes[1])/1000;\n var mod=(bytes[2]>>2)&0x07;\n if(mod==1)\n {\n decode.vib_count=(bytes[3]<<8 | bytes[4]<<8 | bytes[5]<<8 | bytes[6])>>>0;\n decode.work_min=(bytes[7]<<8 | bytes[8]<<8 | bytes[9]<<8 | bytes[10])>>>0;\n }\n else if(mod==2)\n {\n decode.vib_count=(bytes[3]<<8 | bytes[4]<<8 | bytes[5]<<8 | bytes[6])>>>0; \n decode.temperature=parseFloat(((bytes[7]<<24>>16 | bytes[8])/100).toFixed(2));\n decode.humidity=parseFloat((((bytes[9]<<8 | bytes[10])&0xFFF)/10).toFixed(1));\n }\n else if(mod==3)\n {\n decode.temperature=parseFloat(((bytes[3]<<24>>16 | bytes[4])/100).toFixed(2));\n decode.humidity=parseFloat((((bytes[5]<<8 | bytes[6])&0xFFF)/10).toFixed(1));\n decode.work_min=(bytes[7]<<8 | bytes[8]<<8 | bytes[9]<<8 | bytes[10])>>>0;\n }\n\n decode.alarm= (bytes[2] & 0x01)? \"TRUE\":\"FALSE\";\n decode.tdc = (bytes[2] & 0x02)? \"YES\":\"NO\";\n \n if(bytes.length==11)\n return decode;\n }\n else if(fPort==7)\n {\n var Bat= (bytes[0]<<8 | bytes[1])/1000;\n for(var k=2;k<bytes.length;k=k+6)\n {\n data= datalog(k,bytes);\n if(k=='2')\n data_sum=data;\n else\n data_sum+=data;\n }\n return{\n battery:Bat,\n DATALOG:data_sum\n }; \n } \n else if(fPort==5)\n {\n var freq_band;\n var sub_band;\n var sensor;\n \n if(bytes[0]==0x3F)\n sensor= \"LHT65N-VIB\";\n \n var firm_ver= (bytes[1]&0x0f)+'.'+(bytes[2]>>4&0x0f)+'.'+(bytes[2]&0x0f);\n \n if(bytes[3]==0x01)\n freq_band=\"EU868\";\n else if(bytes[3]==0x02)\n freq_band=\"US915\";\n else if(bytes[3]==0x03)\n freq_band=\"IN865\";\n else if(bytes[3]==0x04)\n freq_band=\"AU915\";\n else if(bytes[3]==0x05)\n freq_band=\"KZ865\";\n else if(bytes[3]==0x06)\n freq_band=\"RU864\";\n else if(bytes[3]==0x07)\n freq_band=\"AS923\";\n else if(bytes[3]==0x08)\n freq_band=\"AS923_1\";\n else if(bytes[3]==0x09)\n freq_band=\"AS923_2\";\n else if(bytes[3]==0x0A)\n freq_band=\"AS923_3\";\n else if(bytes[3]==0x0F)\n freq_band=\"AS923_4\";\n else if(bytes[3]==0x0B)\n freq_band=\"CN470\";\n else if(bytes[3]==0x0C)\n freq_band=\"EU433\";\n else if(bytes[3]==0x0D)\n freq_band=\"KR920\";\n else if(bytes[3]==0x0E)\n freq_band=\"MA869\";\n \n if(bytes[4]==0xff)\n sub_band=\"NULL\";\n else\n sub_band=bytes[4];\n\n var bat= (bytes[5]<<8 | bytes[6])/1000;\n \n return {\n SENSOR_MODEL:sensor,\n FIRMWARE_VERSION:firm_ver,\n FREQUENCY_BAND:freq_band,\n SUB_BAND:sub_band,\n battery:bat,\n }\n } \n}